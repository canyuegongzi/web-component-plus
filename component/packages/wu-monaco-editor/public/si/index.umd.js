!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).WuCodeSandbox={})}(this,(function(e){"use strict";var t=function(e,g){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&(e[g]=t[g])},t(e,g)};var g=function(){return g=Object.assign||function(e){for(var t,g=1,C=arguments.length;g<C;g++)for(var I in t=arguments[g])Object.prototype.hasOwnProperty.call(t,I)&&(e[I]=t[I]);return e},g.apply(this,arguments)};function C(e,t,g,C){var I,n=arguments.length,o=n<3?t:null===C?C=Object.getOwnPropertyDescriptor(t,g):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,g,C);else for(var A=e.length-1;A>=0;A--)(I=e[A])&&(o=(n<3?I(o):n>3?I(t,g,o):I(t,g))||o);return n>3&&o&&Object.defineProperty(t,g,o),o}function I(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function n(e,t,g,C){return new(g||(g=Promise))((function(I,n){function o(e){try{r(C.next(e))}catch(e){n(e)}}function A(e){try{r(C.throw(e))}catch(e){n(e)}}function r(e){var t;e.done?I(e.value):(t=e.value,t instanceof g?t:new g((function(e){e(t)}))).then(o,A)}r((C=C.apply(e,t||[])).next())}))}function o(e,t){var g,C,I,n,o={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return n={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function A(n){return function(A){return function(n){if(g)throw new TypeError("Generator is already executing.");for(;o;)try{if(g=1,C&&(I=2&n[0]?C.return:n[0]?C.throw||((I=C.return)&&I.call(C),0):C.next)&&!(I=I.call(C,n[1])).done)return I;switch(C=0,I&&(n=[2&n[0],I.value]),n[0]){case 0:case 1:I=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,C=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(I=o.trys,(I=I.length>0&&I[I.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!I||n[1]>I[0]&&n[1]<I[3])){o.label=n[1];break}if(6===n[0]&&o.label<I[1]){o.label=I[1],I=n;break}if(I&&o.label<I[2]){o.label=I[2],o.ops.push(n);break}I[2]&&o.ops.pop(),o.trys.pop();continue}n=t.call(e,o)}catch(e){n=[6,e],C=0}finally{g=I=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,A])}}}const A=new WeakMap;function r(e,t){return A.get(e)&&A.get(e).get(t)}function i(e,t,g){if(void 0===t)throw new TypeError;const C=r(t,g);return C&&C.get(e)}function c(e,t,g,C){if(C&&!["string","symbol"].includes(typeof C))throw new TypeError;(r(g,C)||function(e,t){const g=A.get(e)||new Map;A.set(e,g);const C=g.get(t)||new Map;return g.set(t,C),C}(g,C)).set(e,t)}function l(e,t,g){return i(e,t,g)?i(e,t,g):Object.getPrototypeOf(t)?l(e,Object.getPrototypeOf(t),g):void 0}const s={decorate:function(e,t,g,C){if(!Array.isArray(e)||0===e.length)throw new TypeError;return void 0!==g?function(e,t,g,C){return e.reverse().forEach((e=>{C=e(t,g,C)||C})),C}(e,t,g,C):"function"==typeof t?function(e,t){return e.reverse().forEach((e=>{const g=e(t);g&&(t=g)})),t}(e,t):void 0},defineMetadata:function(e,t,g,C){c(e,t,g,C)},getMetadata:function(e,t,g){return l(e,t,g)},getOwnMetadata:function(e,t,g){return i(e,t,g)},hasMetadata:function(e,t,g){return!!l(e,t,g)},hasOwnMetadata:function(e,t,g){return!!i(e,t,g)},metadata:function(e,t){return function(g,C){c(e,t,g,C)}}};Object.assign(Reflect,s);var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&(e[g]=t[g])},a(e,t)},u=function(){return u=Object.assign||function(e){for(var t,g=1,C=arguments.length;g<C;g++)for(var I in t=arguments[g])Object.prototype.hasOwnProperty.call(t,I)&&(e[I]=t[I]);return e},u.apply(this,arguments)};function d(e,t,g){if(g||2===arguments.length)for(var C,I=0,n=t.length;I<n;I++)!C&&I in t||(C||(C=Array.prototype.slice.call(t,0,I)),C[I]=t[I]);return e.concat(C||Array.prototype.slice.call(t))}!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.hasOwnProperty("polyfillWrapFlushCallback")){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),"function"!=typeof window.queueMicrotask&&(window.queueMicrotask=function(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))});var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*!
     * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
     * https://github.com/polygonplanet/weakmap-polyfill
     * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
     * @license MIT
     */!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,g=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(e){}}(),C=function(e,t,C){g?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:C}):e[t]=C};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(C(this,"_id",n("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function g(e,g){if(!I(e)||!t.call(e,"_id"))throw new TypeError(g+" method called on incompatible receiver "+typeof e)}function n(e){return e+"_"+o()+"."+o()}function o(){return Math.random().toString().substring(2)}return C(e.prototype,"delete",(function(e){if(g(this,"delete"),!I(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),C(e.prototype,"get",(function(e){if(g(this,"get"),I(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),C(e.prototype,"has",(function(e){if(g(this,"has"),!I(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),C(e.prototype,"set",(function(e,t){if(g(this,"set"),!I(e))throw new TypeError("Invalid value used as weak map key");var n=e[this._id];return n&&n[0]===e?(n[1]=t,this):(C(e,this._id,[e,t]),this)})),C(e,"_polyfill",!0),e}()}function I(e){return Object(e)===e}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:p);var h=function(e){return e.replace(/(?!^)([A-Z])/g," $1").replace(/[_\s]+(?=[a-zA-Z])/g,".").toLowerCase()};
/**
     * @license
     * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
     */function f(e){var t=document.createElement("style");return t.textContent=e,t}function b(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))}function y(e){return e.children}function m(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}function v(e){return"[object Array]"===Object.prototype.toString.call(e)}function w(e){return e.indexOf("-")>-1?e.replace(/(\-([a-z]))/g,(function(e,t,g,C,I){return g.toUpperCase()})):e}!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.hasOwnProperty("polyfillWrapFlushCallback")){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),"function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var N={store:null,root:self||window||function(){return this}(),mapping:{},vnode:void 0},Z=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,W=Symbol("PROP_META_KEY"),G=Symbol("STATE_META_KEY"),B=Symbol("COMPONENT_CUSTOM_EVENT"),S=Symbol("COMPONENT_CUSTOM_INJECT"),V=Symbol("COMPONENT_CUSTOM_PROVIDE"),Y=Symbol("COMPONENT_WATCH");function K(e){var t=e.parentNode;t&&t.removeChild(e)}function H(e,t,g){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&X(e,t.nodeName):"function"==typeof t.nodeName?N.mapping[e.nodeName.toLowerCase()]===t.nodeName:g||e._componentConstructor===t.nodeName}function X(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function k(e){return this._listeners[e.type](N.event&&N.event(e)||e)}var J={};function R(e,t,g,C,I,n){if("className"===t&&(t="class"),"o"==t[0]&&"-"==t[1])J[t]&&J[t](e,C,n);else if("key"===t);else if("ref"===t)m(g,null),m(C,e);else if("class"!==t||I)if("style"===t){if(C&&"string"!=typeof C&&"string"!=typeof g||(e.style.cssText=C||""),C&&"object"==typeof C){if("string"!=typeof g)for(var o in g)o in C||(e.style[o]="");for(var o in C)e.style[o]="number"==typeof C[o]&&!1===Z.test(o)?C[o]+"px":C[o]}}else if("dangerouslySetInnerHTML"===t)C&&(e.innerHTML=C.__html||"");else if("o"==t[0]&&"n"==t[1])!function(e,t,g,C){var I=t!==(t=t.replace(/Capture$/,"")),n=t.toLowerCase();t=(n in e?n:t).slice(2),g?C||e.addEventListener(t,k,I):e.removeEventListener(t,k,I),(e._listeners||(e._listeners={}))[t]=g}(e,t,C,g);else if("INPUT"===e.nodeName&&"value"===t)e[t]=null==C?"":C;else if("list"!==t&&"type"!==t&&"css"!==t&&!I&&t in e&&""!==C){try{e[t]=null==C?"":C}catch(e){}null!=C&&!1!==C||"spellcheck"==t||(e.pureRemoveAttribute?e.pureRemoveAttribute(t):e.removeAttribute(t))}else{var A=I&&t!==(t=t.replace(/^xlink:?/,""));null==C||!1===C?A?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.pureRemoveAttribute?e.pureRemoveAttribute(t):e.removeAttribute(t):"function"!=typeof C&&(A?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),C):e.pureSetAttribute?e.pureSetAttribute(t,C):e.setAttribute(t,C))}else e.className=C||""}var j=0,Q=!1,L=!1;function _(e,t,g,C,I){var n;if(e||t)return j++||(Q=null!=g&&void 0!==g.ownerSVGElement,L=null!=e&&!("prevProps"in e)),t&&t.nodeName===y&&(t=t.children),v(t)?g?O(g,t,L,C,I):(n=[],t.forEach((function(t,g){var o=D(0===g?e:null,t,C,I);n.push(o)}))):(v(e)?e.forEach((function(e,g){0===g?n=D(e,t,C,I):z(e,!1)})):n=D(e,t,C,I),g&&n.parentNode!==g&&g.appendChild(n)),--j||(L=!1),n}function D(e,t,g,C){e&&t&&e.props&&(e.props.children=t.children);var I=e,n=Q;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||g)?e.nodeValue!=t&&(e.nodeValue=t):(I=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(I,e),z(e,!0))),I.prevProps=!0,I;var o,A,r=t.nodeName;if("function"==typeof r)for(var i in N.mapping)if(N.mapping[i]===r){r=i,t.nodeName=i;break}if(Q="svg"===r||"foreignObject"!==r&&Q,r=String(r),(!e||!X(e,r))&&(o=r,(A=Q?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(o)).normalizedNodeName=o,I=A,e)){for(;e.firstChild;)I.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(I,e),z(e,!0)}var c=I.firstChild,l=I.prevProps,s=t.children;if(null==l){l=I.prevProps={};for(var a=I.attributes,u=a.length;u--;)l[a[u].name]=a[u].value}return!L&&s&&1===s.length&&"string"==typeof s[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=s[0]&&(c.nodeValue=s[0]):(s&&s.length||null!=c)&&("CustomWebComponent"==I.constructor.is&&I.constructor.noSlot||O(I,s,L||null!=l.dangerouslySetInnerHTML,g,C)),function(e,t,g,C,I){var n,o,A=e.update;for(n in e.receiveProps&&(o=Object.assign({},g)),g)t&&null!=t[n]||null==g[n]||(R(e,n,g[n],g[n]=void 0,Q,C),A&&delete e.props[n]);for(n in t)if(A&&"object"==typeof t[n]&&"ref"!==n){"style"===n&&R(e,n,g[n],g[n]=t[n],Q,C);var r=b(n);e.props[r]=g[r]=t[n]}else"children"===n||n in g&&t[n]===("value"===n||"checked"===n?e[n]:g[n])||(R(e,n,g[n],t[n],Q,C),-1!==e.nodeName.indexOf("-")?(e.props=e.props||{},r=b(n),e.props[r]=g[r]=t[n]):g[n]=t[n]);A&&!I&&e.parentNode&&!1!==e.receiveProps(e.props,o)&&e.update()}(I,t.attributes,l,g,C),I.props&&(I.props.children=t.children),Q=n,I}function O(e,t,g,C,I){var n,o,A,r,i,c=e.childNodes,l=[],s={},a=0,u=0,d=(null==c?void 0:c.length)||0,p=0,h=t?t.length:0;if(0!==d)for(var f=0;f<d;f++){var b=c[f],y=b.prevProps;null!=(m=h&&y?b._component?b._component.__key:y.key:null)?(a++,s[m]=b):(y||(void 0!==b.splitText?!g||b.nodeValue.trim():g))&&(l[p++]=b)}if(0!==h)for(f=0;f<h;f++){var m;if(i=null,r=t[f])if(null!=(m=r.key))a&&void 0!==s[m]&&(i=s[m],s[m]=void 0,a--);else if(!i&&u<p)for(n=u;n<p;n++)if(void 0!==l[n]&&H(o=l[n],r,g)){i=o,l[n]=void 0,n===p-1&&p--,n===u&&u++;break}i=D(i,r,C,I),A=c[f],i&&i!==e&&i!==A&&(null==A?e.appendChild(i):i===A.nextSibling?K(A):e.insertBefore(i,A))}if(a)for(var f in s)void 0!==s[f]&&z(s[f],!1);for(;u<=p;)void 0!==(i=l[p--])&&z(i,!1)}function z(e,t){null!=e.prevProps&&e.prevProps.ref&&("function"==typeof e.prevProps.ref?e.prevProps.ref(null):e.prevProps.ref.current&&(e.prevProps.ref.current=null)),!1!==t&&null!=e.prevProps||K(e),function(e){for(e=e.lastChild;e;){var t=e.previousSibling;z(e,!0),e=t}}(e)}var P=[];function F(e,t){var g,C,I,n,o=[];for(n=arguments.length;n-- >2;)P.push(arguments[n]);for(t&&null!=t.children&&(P.length||P.push(t.children),delete t.children);P.length;)if((C=P.pop())&&void 0!==C.pop)for(n=C.length;n--;)P.push(C[n]);else"boolean"==typeof C&&(C=null),(I="function"!=typeof e)&&(null==C?C="":"number"==typeof C?C=String(C):"string"!=typeof C&&(I=!1)),I&&g?o[o.length-1]+=C:0===o.length?o=[C]:o.push(C),g=I;if(e===y)return o;var A={nodeName:e,children:o,attributes:null==t?void 0:t,key:null==t?void 0:t.key};return void 0!==N.vnode&&N.vnode(A),A}var x=function(){function e(){this.subs=[]}return e.prototype.addSub=function(e){this.subs.includes(e)||this.subs.push(e)},e.prototype.notify=function(){this.subs.forEach((function(e){e.update()}))},e.prototype.depend=function(){e.target&&(this.subs.includes(e.target)||this.subs.push(e.target))},e}(),T="__proto__"in{};function E(e,t,g,C){Object.defineProperty(e,t,{value:g,enumerable:!!C,writable:!0,configurable:!0})}var M=0,U=function(){function e(e,t,g,C){var I=this;if(void 0===C&&(C={}),this.callbacks=[],this.id=M++,this.$vm=e,this.expr=t,this.deep=!!C.deep,this.getter="function"==typeof t?t:function(e){e+=".";for(var t=[],g="",C=0;C<e.length;C++){var I=e[C];if(/\[|\./.test(I))t.push(g),g="";else{if(/\W/.test(I))continue;g+=I}}return function(e){return t.reduce((function(e,t){return e[t]}),e)}}(t),this.cb=g,this.value=this.get(),"undefined"!=typeof Promise){var n=Promise.resolve();this.timerFunc=function(){n.then(I.flushCallbacks)}}}return e.prototype.get=function(){x.target=this;var e=this.getter.call(this.$vm,this.$vm);return this.deep&&function(e){var t=function(e){(function(e){for(var t=[],g=1;g<arguments.length;g++)t[g-1]=arguments[g];return t.some((function(t){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===t}))})(e,"array","object")&&Object.keys(e).forEach((function(g){var C=e[g];t(C)}))};t(e)}(e),x.target=null,e},e.prototype.update=function(){var e=this.get(),t=this.value;this.value=e,this.cb.call(this.$vm,e,t)},e.prototype.run=function(){console.log("update")},e.prototype.flushCallbacks=function(){for(var e=0;e<this.callbacks.length;e++)this.callbacks[e]();this.callbacks=[]},e}();function $(e,t,g){Object.defineProperty(e,g,{get:function(){return this[t][g]},set:function(e){this[t][g]=e,this.props[g]=e}})}function q(){var e=this,t={},g=this.geMateList(W),C=this.geMateList(G);t=g.reduce((function(e,t,g){return e[t.attr]=t.default,e}),t),t=C.reduce((function(e,t,g){return e[t.attr]=t.default,e}),t||{}),this.$reactive||(this.$reactive={}),this.$reactive=u(u({},this.$reactive),t);for(var I=Object.keys(this.$reactive),n=I.length;n--;)$(this,"$reactive",I[n]);re(this.$reactive),new U(this.$reactive,(function(){return e.render.call(e,e.$reactive,null)}),(function(t,g){e.update.call(e,e.$reactive,null)}))}function ee(){var e,t=this,g=null!==(e=this.geMateList(B))&&void 0!==e?e:[],C=this;g.forEach((function(e){Object.defineProperty(t,e.methodName,{get:function(){return function(){for(var t,g=[],I=0;I<arguments.length;I++)g[I]=arguments[I];var n=(t=e.methodFun).call.apply(t,d([C],g,!1)),o=e.eventName?e.eventName:h(e.methodName);C.customDispatchEvent.call(C,o,n)}}})}))}function te(){var e,t,g=null!==(e=this.geMateList(Y))&&void 0!==e?e:[],C=this;t=g.reduce((function(e,t){return function(e,t,g,C){void 0===g&&(g={}),"object"==typeof t&&(t=(g=t).handler);var I=new U(C.$reactive,e,t,g);g.immediate&&t.call(C,I.value)}(t.path,(function(){for(var e,g=[],I=0;I<arguments.length;I++)g[I]=arguments[I];(e=C[t.callbackName]).call.apply(e,d([C],g,!1))}),t,C),e[t.path]=t,e}),{}),C.$watch=t}var ge=0,Ce=new WeakMap,Ie=function(e){function t(){var t=e.call(this)||this;return t.rootNode=null,t.isInstalled=!1,t.willUpdate=!1,t.customStyleContent="",t.props={},t.prevProps={},t.customStyleElement=null,t.provides=[],t.elementId=0,t.injection={},t.elementId=ge++,t.$options=t.constructor.$options,t.initComponent(),t.injection={},t.providesMap=t.getProvides(),t.injectsList=t.getInjects(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function g(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(g.prototype=t.prototype,new g)}(t,e),t.prototype.geMateList=function(e){var t;return null!==(t=Reflect.getMetadata(e,this))&&void 0!==t?t:[]},t.prototype.initComponent=function(){var e,t;this.elementId=ge++,this.propsList=this.geMateList(W),this.injects=null!==(e=this.geMateList(S))&&void 0!==e?e:[],this.provides=null!==(t=this.geMateList(V))&&void 0!==t?t:[],q.call(this),ee.call(this),te.call(this)},t.prototype.initCss=function(e){if(Ce.has(this.constructor))e.adoptedStyleSheets=Ce.get(this.constructor);else{var t=this.$options.css;if(t){if("string"==typeof t&&((C=new CSSStyleSheet).replaceSync(t),e.adoptedStyleSheets=[C]),"[object Array]"===Object.prototype.toString.call(t)){var g=[];t.forEach((function(t){var C;"string"==typeof t&&((C=new CSSStyleSheet).replaceSync(t),g.push(C)),"[object Array]"===Object.prototype.toString.call(t)?((C=new CSSStyleSheet).replaceSync(t[1]),g.push(C)):g.push(t),e.adoptedStyleSheets=g}))}else if(t.default&&"string"==typeof t.default)(C=new CSSStyleSheet).replaceSync(t.default),e.adoptedStyleSheets=[C];else if("string"==typeof t){var C;(C=new CSSStyleSheet).replaceSync(t),e.adoptedStyleSheets=[C]}else e.adoptedStyleSheets=[t];Ce.set(this.constructor,e.adoptedStyleSheets)}}return e},Object.defineProperty(t,"observedAttributes",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.getProvides=function(){return this.provides.reduce((function(e,t){return e[t.key]=t,e}),{})},t.prototype.getInjects=function(){return this.injects},Object.defineProperty(t.prototype,"isInject",{get:function(){return Array.isArray(this.injectsList)&&this.injectsList.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProvide",{get:function(){return Object.keys(this.providesMap).length>0},enumerable:!1,configurable:!0}),t.prototype.removeAttribute=function(t){e.prototype.removeAttribute.call(this,t),this.isInstalled&&this.update()},t.prototype.setAttribute=function(t,g){var C;C=g&&"object"==typeof g?JSON.stringify(g):g,e.prototype.setAttribute.call(this,t,C),this.isInstalled&&(this[t]=g)},t.prototype.getAttribute=function(t){var g=this[t];return g||(g=e.prototype.getAttribute.call(this,t)),g},t.prototype.pureRemoveAttribute=function(t){e.prototype.removeAttribute.call(this,t)},t.prototype.pureSetAttribute=function(t,g){e.prototype.setAttribute.call(this,t,g)},t.prototype.attributeChangedCallback=function(e,t,g){this.update([],!1)},t.prototype.update=function(e,t){this.callUpdate(e,t)},t.prototype.callUpdate=function(e,t){if(this.isInstalled&&!this.willUpdate&&this.preBeforeUpdate()){this.willUpdate=!0,this.beforeUpdate(),this.beforeRender(),this.customStyleContent!=this.$options.css&&(this.customStyleContent=this.$options.css);var g=this.render(this.$reactive,this.store);this.rendered(),this.rootNode=_(this.rootNode,g,(null==this?void 0:this.shadowRoot)||this,this,t),this.willUpdate=!1,this.updated()}},t.prototype.initShadowRoot=function(){var e,t,g;if("LightDom"===this.$options.is)g=this;else{g=this.shadowRoot||(null===(e=this.attachShadow)||void 0===e?void 0:e.call(this,{mode:"open"}));for(var C=void 0;C=g.firstChild;)g.removeChild(C)}g=this.initCss(g),this.css&&g.appendChild(f("function"==typeof this.css?this.css():this.css));var I=null===(t=this.$reactive)||void 0===t?void 0:t.css;return I&&(this.customStyleElement=f(I),this.customStyleContent=I,g.appendChild(this.customStyleElement)),g},t.prototype.updateInject=function(e){var t=this;this.isInject&&Promise.resolve().then((function(){for(var g,C,I=t.parentNode;I&&!C;)(C=I.isProvide?I.providesMap:void 0)&&(g=I),I=I.parentNode||I.host;if(C)return t.injectsList.forEach((function(e){var I=C[e.key].functionName;t[e.attr]=g[I]()})),void("function"==typeof e&&e());console.warn("The provide prop was not found on the parent node or the provide type is incorrect. please check ".concat(t.tagName))}))},t.prototype.connectedCallback=function(){var e=this;this.updateInject(this.update.bind(this));var t=this.initShadowRoot();this.attrsToProps(),this.beforeInstall(),this.install(),this.afterInstall(),this.beforeRender();var g=this.render(this.$reactive,this.store);this.rootNode=_(null,g,null,this),!0===this.$options.isMountDom&&(Array.isArray(this.rootNode)?this.rootNode.forEach((function(e){return t.appendChild(e)})):this.rootNode&&t.appendChild(this.rootNode)),this.isInstalled=!0,this.rendered(),this.isInject?Promise.resolve().then((function(){return e.connected(t)})):this.connected(t)},t.prototype.disconnectedCallback=function(){this.disConnected()},t.prototype.connected=function(e){},t.prototype.disConnected=function(){},t.prototype.preBeforeUpdate=function(){return!0},t.prototype.beforeUpdate=function(){},t.prototype.updated=function(){},t.prototype.forceUpdate=function(){this.update([],!0)},t.prototype.updateProps=function(e){var t=this;Object.keys(e).forEach((function(g){t[g]=e[g],t.prevProps&&(t.prevProps[g]=e[g])})),this.forceUpdate()},t.prototype.attrsToProps=function(e){var t=this,g=this,C=function(e){for(var t={},g=0,C=e.attributes.length;g<C;g++){var I=e.attributes[g].nodeName,n=e.attributes[g].nodeValue;e.attributes[g].specified&&(t[w(I)]=n)}return t}(this.shadowRoot&&this.shadowRoot.host?this.shadowRoot.host:this);this.propsList.forEach((function(e){var I=w(e.attr),n=C[I];n||(n=g.getAttribute(I));var o=function(e,t,g){var C=void 0;try{if(null!==e)switch(t){case String:C=e;break;case Number:C=Number(e);break;case Boolean:C=!("false"===e||"0"===e||!1===e);break;case Array:case Object:C="string"==typeof e?JSON.parse(e.replace(/'/g,'"')):"[object Array]"===Object.prototype.toString.call(e)||"[object Object]"===Object.prototype.toString.call(e)?e:JSON.parse(e.replace(/(['"])?([a-zA-Z0-9_-]+)(['"])?:([^\/])/g,'"$2":$4').replace(/'([\s\S]*?)'/g,'"$1"').replace(/,(\s*})/g,"$1"));break;default:C=e}else C=g;return C}catch(t){return console.warn("formatValue file, please input element attr",t),function(e){try{return new Function("return "+e)()}catch(e){console.warn("eval fail",e)}}(e)}}(n,e.type,e.default);t[I]=o}))},t.prototype.customDispatchEvent=function(e,t){var g=new CustomEvent(e,{detail:t||null,bubbles:!0,composed:!0,cancelable:!1});(null==this?void 0:this.shadowRoot)?null==this||this.shadowRoot.dispatchEvent(g):this.dispatchEvent(g)},t.prototype.beforeInstall=function(){},t.prototype.install=function(){},t.prototype.afterInstall=function(){},t.prototype.beforeRender=function(){},t.prototype.rendered=function(){},t.prototype.receiveProps=function(){},t.prototype.render=function(e,t){},t.is="CustomWebComponent",t}(HTMLElement);var ne=Array.prototype,oe=Object.create(ne);["push","pop","shift","unshift","sort","splice","reverse"].forEach((function(e){oe[e]=function(){for(var t=[],g=0;g<arguments.length;g++)t[g]=arguments[g];var C=ne[e].apply(this,t),I=this.__observer__;return["push","unshift","splice"].includes(e)&&I.walk(this),I.dep.notify(),C}}));var Ae=function(){function e(e){this.dep=new x,E(e,"__observer__",this),Array.isArray(e)&&(T?e.__proto__=oe:Object.getOwnPropertyNames(oe).forEach((function(t){E(e,t,oe[t])}))),this.walk(e)}return e.prototype.walk=function(e){Object.keys(e).forEach((function(t){!function(e,t,g){var C=new x,I=Object.getOwnPropertyDescriptor(e,t);if(!I||!1!==I.configurable){var n=I&&I.get,o=I&&I.set;n&&!o||2!==arguments.length||(g=e[t]);var A=re(g);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=n?n.call(e):g;return x.target&&(C.addSub(x.target),A&&A.dep.addSub(x.target)),t},set:function(t){t!==g&&(g=t,n&&!o||(o?o.call(e,t):g=t,A=re(t),C.notify()))}})}}(e,t,e[t])}))},e}();function re(e){if(e&&"object"==typeof e)return"__observer__"in e?e.__observer__:new Ae(e)}function ie(e){return void 0===e&&(e={default:void 0}),function(t,g){!function(e,t,g){var C;void 0===g&&(g={default:void 0});var I=g.default,n=null!==(C=Reflect.getMetadata(W,e))&&void 0!==C?C:[];n.push({default:I,type:g.type,attr:t}),Reflect.defineMetadata(W,n,e)}(t,g,e)}}function ce(e){return function(t){!function(e,t){void 0===t.isMountDom&&(t.isMountDom=!0),customElements.get(t.name)||(e.$options=t,customElements.define(t.name,e,t.options||{}))}(t,e)}}var le=":host {\n  width: 100%;\n  height: 100%;\n}\n\n.containerViewer {\n  width: 100%;\n  height: 100%;\n}\n\n#codeIframe {\n  width: 100%;\n  height: 100%;\n}";!function(e,t){void 0===t&&(t={});var g=t.insertAt;if(e&&"undefined"!=typeof document){var C=document.head||document.getElementsByTagName("head")[0],I=document.createElement("style");I.type="text/css","top"===g&&C.firstChild?C.insertBefore(I,C.firstChild):C.appendChild(I),I.styleSheet?I.styleSheet.cssText=e:I.appendChild(document.createTextNode(e))}}(le);var se=1,ae=function(){function e(e,t){var g=this;this.iframe=e,this.handlers=t,this.pending_cmds=new Map,this.handle_event=function(e){return g.handle_repl_message(e)},window.addEventListener("message",this.handle_event,!1)}return e.prototype.destroy=function(){window.removeEventListener("message",this.handle_event)},e.prototype.iframe_command=function(e,t){var g=this;return new Promise((function(C,I){var n=se++;g.pending_cmds.set(n,{resolve:C,reject:I}),g.iframe.contentWindow.postMessage({action:e,cmd_id:n,args:t},"*")}))},e.prototype.handle_command_message=function(e){var t=e.action,g=e.cmd_id,C=this.pending_cmds.get(g);if(C){if(this.pending_cmds.delete(g),"cmd_error"===t){var I=e.message,n=e.stack,o=new Error(I);o.stack=n,C.reject(o)}"cmd_ok"===t&&C.resolve(e.args)}else"cmd_error"!==t&&"cmd_ok"!==t&&console.error("command not found",g,e,function(e,t,g){if(g||2===arguments.length)for(var C,I=0,n=t.length;I<n;I++)!C&&I in t||(C||(C=Array.prototype.slice.call(t,0,I)),C[I]=t[I]);return e.concat(C||Array.prototype.slice.call(t))}([],function(e,t){var g="function"==typeof Symbol&&e[Symbol.iterator];if(!g)return e;var C,I,n=g.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(C=n.next()).done;)o.push(C.value)}catch(e){I={error:e}}finally{try{C&&!C.done&&(g=n.return)&&g.call(n)}finally{if(I)throw I.error}}return o}(this.pending_cmds.keys()),!1))},e.prototype.handle_repl_message=function(e){if(e.source===this.iframe.contentWindow){var t=e.data,g=t.action,C=t.args;switch(g){case"cmd_error":case"cmd_ok":return this.handle_command_message(e.data);case"fetch_progress":return this.handlers.on_fetch_progress(C.remaining);case"error":return this.handlers.on_error(e.data);case"unhandledrejection":return this.handlers.on_unhandled_rejection(e.data);case"console":return this.handlers.on_console(e.data);case"console_group":return this.handlers.on_console_group(e.data);case"console_group_collapsed":return this.handlers.on_console_group_collapsed(e.data);case"console_group_end":return this.handlers.on_console_group_end(e.data)}}},e.prototype.eval=function(e){return this.iframe_command("eval",{script:e})},e.prototype.handle_links=function(){return this.iframe_command("catch_clicks",{})},e.prototype.load_depend=function(e){return this.iframe_command("load_dependencies",e)},e}(),ue="CODE_DEPENDENCIES",de="CODE_TYPES",pe=function(){function e(e){void 0===e&&(e={dependencies:{},types:{}}),this.code=[],this.init(e)}return e.prototype.init=function(e){var t=e.dependencies,C=void 0===t?{}:t,I=e.types,n=void 0===I?{}:I,o=localStorage.getItem(ue)?JSON.parse(localStorage.getItem(ue)):{},A=localStorage.getItem(de)?JSON.parse(localStorage.getItem(de)):{};o=g(g({},o),C||{}),A=g(g({},A),{types:n||{}}),localStorage.setItem(ue,JSON.stringify(o)),localStorage.setItem(de,JSON.stringify(A)),this.__dependencies=o,this.__types=A},e.prototype.createDependencies=function(e,t){this.__dependencies=g(g({},this.__dependencies),{name:t}),localStorage.setItem(ue,JSON.stringify(this.__dependencies))},Object.defineProperty(e.prototype,"dependencies",{get:function(){return this.__dependencies},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return this.__types},enumerable:!1,configurable:!0}),e.prototype.pushStackCode=function(e){this.code.push(e)},e}(),he=function(e){function g(){var t=e.call(this)||this;return t.container=null,t}return function(e,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function C(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(C.prototype=g.prototype,new C)}(g,e),g.prototype.formatFile=function(e){return new Promise((function(t){if(e.startsWith("data:text/html;base64")){for(var g=e.split(","),C=atob(g[1]),I=C.length,n=new Uint8Array(I);I--;)n[I]=C.charCodeAt(I);var o=new File([n],"srcdoc.html",{type:"text/html"}),A=new FileReader;A.onload=function(){t(A.result)},A.readAsText(o,"utf-8")}else t(e)}))},g.prototype.connected=function(e){return n(this,void 0,void 0,(function(){var t,g,C,I,n,A=this;return o(this,(function(o){switch(o.label){case 0:return t=this.props.initialSrcDoc,this.container=e.querySelector("#codeIframe"),g=document.createElement("div"),C={},t?(I=this,[4,this.formatFile(t)]):[3,2];case 1:I.initialSrcDoc=o.sent(),g.innerHTML=this.initialSrcDoc,n=g.querySelector("#dependenciesMap"),C=JSON.parse(n.innerHTML)?JSON.parse(n.innerHTML).imports:{},o.label=2;case 2:return this.previewStore=new pe({dependencies:C}),this.proxy=new ae(this.container,{on_fetch_progress:function(e){},on_error:function(e){console.log("on_error",e)},on_unhandled_rejection:function(e){console.log("on_unhandled_rejection",e)},on_console:function(e){console.log("log",e)},on_console_group:function(e){},on_console_group_end:function(){},on_console_group_collapsed:function(e){}}),this.container.addEventListener("load",(function(){A.proxy.handle_links().then((function(e){})),A.proxy.load_depend({dependencies:A.previewStore.dependencies}).then((function(){for(var e=0;e<A.previewStore.code.length;e++)A.proxy.eval(A.previewStore.code[e]);A.previewStore.code=[]}))})),this.container.setAttribute("srcdoc",this.initialSrcDoc),[2]}}))}))},g.prototype.runCode=function(e,t){this.props.isBeforeRefresh?(this.container.contentWindow.location.reload(),this.previewStore.pushStackCode(t)):this.proxy.eval(t)},g.prototype.loadDependencies=function(e){return this.proxy.load_depend(e)},g.prototype.render=function(e,t){return F("div",{class:"containerViewer"},F("iframe",{frameBorder:"0",id:"codeIframe",sandbox:["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ")}))},C([ie({type:String,default:"data:text/html;base64,PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPHN0eWxlPg0KICAgICAgICBib2R5LCBodG1sICB7DQogICAgICAgICAgICBtYXJnaW46IDA7DQogICAgICAgIH0NCiAgICA8L3N0eWxlPg0KICAgIDx0aXRsZT5UaXRsZTwvdGl0bGU+DQogICAgPHNjcmlwdCBhc3luYyBzcmM9Imh0dHBzOi8vdW5wa2cuY29tL2VzLW1vZHVsZS1zaGltc0AxLjUuMTgvZGlzdC9lcy1tb2R1bGUtc2hpbXMud2FzbS5qcyI+PC9zY3JpcHQ+DQogICAgPCEtLSBmb3IgdHlwZXNjcmlwdCB0YXJnZXQ6IEFNRCAtLT4NCiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3JlcXVpcmVqcy9yZXF1aXJlanMvcmVxdWlyZS5qcyI+PC9zY3JpcHQ+DQogICAgPCEtLTxzY3JpcHQgc3JjPSJodHRwczovL3VucGtnLmNvbS9Ad3UtY29tcG9uZW50L3dlYi1jb3JlLXBsdXNAMC4zLjMvZGlzdC9pbmRleC5lcy5qcyI+PC9zY3JpcHQ+LS0+DQogICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiIGlkPSJkZXBlbmRlbmNpZXNNYXAiPg0KICAgICAgICB7DQogICAgICAgICAgImltcG9ydHMiOiB7DQogICAgICAgICAgICAiQHd1LWNvbXBvbmVudC93ZWItY29yZS1wbHVzIjogImh0dHBzOi8vdW5wa2cuY29tL0B3dS1jb21wb25lbnQvd2ViLWNvcmUtcGx1c0AwLjMuMy9kaXN0L2luZGV4LmVzLmpzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIDwvc2NyaXB0Pg0KICAgIDxzY3JpcHQ+DQogICAgICAgICgoKSA9PiB7DQogICAgICAgICAgICBsZXQgc2NyaXB0RWxzID0gW10NCg0KICAgICAgICAgICAgd2luZG93LnByb2Nlc3MgPSB7IGVudjoge30gfQ0KICAgICAgICAgICAgd2luZG93Ll9fbW9kdWxlc19fID0ge30NCg0KICAgICAgICAgICAgd2luZG93Ll9fZXhwb3J0X18gPSAobW9kLCBrZXksIGdldCkgPT4gew0KICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2QsIGtleSwgew0KICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIGdldA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHdpbmRvdy5fX2R5bmFtaWNfaW1wb3J0X18gPSBrZXkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod2luZG93Ll9fbW9kdWxlc19fW2tleV0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICog5Yqg6L295L6d6LWWDQogICAgICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucw0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBmdW5jdGlvbiBsb2FkX2RlcGVuZGVuY2llcyhvcHRpb25zKSB7DQogICAgICAgICAgICAgICAgY29uc3QgZG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2RlcGVuZGVuY2llc01hcCIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBKU09OLnBhcnNlKGRvbS5pbm5lckhUTUwpPyBKU09OLnBhcnNlKGRvbS5pbm5lckhUTUwpLmltcG9ydHM6IHt9DQogICAgICAgICAgICAgICAgY29uc3QgbmV3RGVwZW5kZW5jaWVzID0gT2JqZWN0LmFzc2lnbih7fSwgY3VycmVudCwgb3B0aW9ucy5kZXBlbmRlbmNpZXMgfHwge30pOw0KICAgICAgICAgICAgICAgIGRvbS5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJpbXBvcnRzIjogbmV3RGVwZW5kZW5jaWVzDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBjb25zdCBuZXdEb20gPSBkb20uY2xvbmVOb2RlKHRydWUpOw0KICAgICAgICAgICAgICAgIGRvbS5yZW1vdmUoKQ0KICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKS5hcHBlbmRDaGlsZChuZXdEb20pOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVfbWVzc2FnZShldikgew0KICAgICAgICAgICAgICAgIGxldCB7IGFjdGlvbiwgY21kX2lkIH0gPSBldi5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNlbmRfbWVzc2FnZSA9IChwYXlsb2FkKSA9PiBwYXJlbnQucG9zdE1lc3NhZ2UoIHsgLi4ucGF5bG9hZCB9LCBldi5vcmlnaW4pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNlbmRfcmVwbHkgPSAocGF5bG9hZCkgPT4gc2VuZF9tZXNzYWdlKHsgLi4ucGF5bG9hZCwgY21kX2lkIH0pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNlbmRfb2sgPSAoKSA9PiBzZW5kX3JlcGx5KHsgYWN0aW9uOiAnY21kX29rJyB9KTsNCiAgICAgICAgICAgICAgICBjb25zdCBzZW5kX2Vycm9yID0gKG1lc3NhZ2UsIHN0YWNrKSA9PiBzZW5kX3JlcGx5KHsgYWN0aW9uOiAnY21kX2Vycm9yJywgbWVzc2FnZSwgc3RhY2sgfSk7DQoNCiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAnZXZhbCcpIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JpcHRFbHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0RWxzLmZvckVhY2goZWwgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGVsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0RWxzLmxlbmd0aCA9IDANCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHsgc2NyaXB0OiBzY3JpcHRzIH0gPSBldi5kYXRhLmFyZ3MNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0cyA9PT0gJ3N0cmluZycpIHNjcmlwdHMgPSBbc2NyaXB0c10NCg0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzY3JpcHQgb2Ygc2NyaXB0cykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRFbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnbW9kdWxlJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIG9rIGluIHRoZSBtb2R1bGUgc2NyaXB0IHRvIGVuc3VyZSBzZXF1ZW50aWFsIGV2YWx1YXRpb24NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBtdWx0aXBsZSBwcm94eS5ldmFsKCkgY2FsbHMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb25lID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Ll9fbmV4dF9fID0gcmVzb2x2ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0RWwuaW5uZXJIVE1MID0gc2NyaXB0ICsgYFxud2luZG93Ll9fbmV4dF9fKClgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRFbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRFbC5vbmVycm9yID0gZXJyID0+IHNlbmRfZXJyb3IoZXJyLm1lc3NhZ2UsIGVyci5zdGFjaykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRFbHMucHVzaChzY3JpcHRFbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkb25lDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kX29rKCkNCiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9lcnJvcihlLm1lc3NhZ2UsIGUuc3RhY2spOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2NhdGNoX2NsaWNrcycpIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcF9vcmlnaW4gPSBldi5vcmlnaW47DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSkgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRhcmdldCBpcyBhIGxpbmsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWwgPSBldmVudC50YXJnZXQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGVsICYmIGVsLm5vZGVOYW1lICE9PSAnQScpIGVsID0gZWwucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsIHx8IGVsLm5vZGVOYW1lICE9PSAnQScpIHJldHVybjsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2Rvd25sb2FkJykgfHwgZWwuZ2V0QXR0cmlidXRlKCdyZWwnKSA9PT0gJ2V4dGVybmFsJyB8fCBlbC50YXJnZXQpIHJldHVybjsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwuaHJlZi5zdGFydHNXaXRoKHRvcF9vcmlnaW4pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZWwuaHJlZik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmwuaGFzaFswXSA9PT0gJyMnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHVybC5oYXNoOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZWwuaHJlZiwgJ19ibGFuaycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kX29rKCk7DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9lcnJvcihlLm1lc3NhZ2UsIGUuc3RhY2spOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gImxvYWRfZGVwZW5kZW5jaWVzIikgew0KICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbG9hZF9kZXBlbmRlbmNpZXMoZXYuZGF0YS5hcmdzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfb2soKQ0KICAgICAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfZXJyb3IoZS5tZXNzYWdlLCBlLnN0YWNrKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZV9tZXNzYWdlLCBmYWxzZSk7DQoNCiAgICAgICAgICAgIHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24gKG1zZywgdXJsLCBsaW5lTm8sIGNvbHVtbk5vLCBlcnJvcikgew0KICAgICAgICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoJ21vZHVsZSBzcGVjaWZpZXIg4oCcdnVl4oCdJykpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gZmlyZWZveCBvbmx5IGVycm9yLCBpZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IGFjdGlvbjogJ2Vycm9yJywgdmFsdWU6IGVycm9yIH0sICcqJyk7DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICdlcnJvcicsIHZhbHVlOiBtc2cgfSwgJyonKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ1bmhhbmRsZWRyZWplY3Rpb24iLCBldmVudCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKGV2ZW50LnJlYXNvbi5tZXNzYWdlLmluY2x1ZGVzKCdDcm9zcy1vcmlnaW4nKSkgew0KICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpDQogICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICd1bmhhbmRsZWRyZWplY3Rpb24nLCB2YWx1ZTogZXZlbnQucmVhc29uIH0sICcqJyk7DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICd1bmhhbmRsZWRyZWplY3Rpb24nLCB2YWx1ZTogZXZlbnQucmVhc29uLm1lc3NhZ2UgfSwgJyonKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgbGV0IHByZXZpb3VzID0geyBsZXZlbDogbnVsbCwgYXJnczogbnVsbCB9Ow0KDQogICAgICAgICAgICBbJ2NsZWFyJywgJ2xvZycsICdpbmZvJywgJ2RpcicsICd3YXJuJywgJ2Vycm9yJywgJ3RhYmxlJ10uZm9yRWFjaCgobGV2ZWwpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGNvbnNvbGVbbGV2ZWxdOw0KICAgICAgICAgICAgICAgIGNvbnNvbGVbbGV2ZWxdID0gKC4uLmFyZ3MpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gU3RyaW5nKGFyZ3NbMF0pDQogICAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5pbmNsdWRlcygnWW91IGFyZSBydW5uaW5nIGEgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgVnVlJykgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5pbmNsdWRlcygnWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUnKQ0KICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ2lmaWVkQXJncyA9IHN0cmluZ2lmeShhcmdzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMubGV2ZWwgPT09IGxldmVsICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5hcmdzICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5hcmdzID09PSBzdHJpbmdpZmllZEFyZ3MNCiAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICdjb25zb2xlJywgbGV2ZWwsIGR1cGxpY2F0ZTogdHJ1ZSB9LCAnKicpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMgPSB7IGxldmVsLCBhcmdzOiBzdHJpbmdpZmllZEFyZ3MgfTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICdjb25zb2xlJywgbGV2ZWwsIGFyZ3MgfSwgJyonKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IGFjdGlvbjogJ2NvbnNvbGUnLCBsZXZlbCwgYXJnczogYXJncy5tYXAoYSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEVycm9yID8gYS5tZXNzYWdlIDogU3RyaW5nKGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIH0sICcqJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbCguLi5hcmdzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgWw0KICAgICAgICAgICAgICAgIHsgbWV0aG9kOiAnZ3JvdXAnLCBhY3Rpb246ICdjb25zb2xlX2dyb3VwJyB9LA0KICAgICAgICAgICAgICAgIHsgbWV0aG9kOiAnZ3JvdXBFbmQnLCBhY3Rpb246ICdjb25zb2xlX2dyb3VwX2VuZCcgfSwNCiAgICAgICAgICAgICAgICB7IG1ldGhvZDogJ2dyb3VwQ29sbGFwc2VkJywgYWN0aW9uOiAnY29uc29sZV9ncm91cF9jb2xsYXBzZWQnIH0sDQogICAgICAgICAgICBdLmZvckVhY2goKGdyb3VwX2FjdGlvbikgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gY29uc29sZVtncm91cF9hY3Rpb24ubWV0aG9kXTsNCiAgICAgICAgICAgICAgICBjb25zb2xlW2dyb3VwX2FjdGlvbi5tZXRob2RdID0gKGxhYmVsKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IGFjdGlvbjogZ3JvdXBfYWN0aW9uLmFjdGlvbiwgbGFiZWwgfSwgJyonKTsNCg0KICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbChsYWJlbCk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBjb25zdCB0aW1lcnMgPSBuZXcgTWFwKCk7DQogICAgICAgICAgICBjb25zdCBvcmlnaW5hbF90aW1lID0gY29uc29sZS50aW1lOw0KICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxfdGltZWxvZyA9IGNvbnNvbGUudGltZUxvZzsNCiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsX3RpbWVlbmQgPSBjb25zb2xlLnRpbWVFbmQ7DQoNCiAgICAgICAgICAgIGNvbnNvbGUudGltZSA9IChsYWJlbCA9ICdkZWZhdWx0JykgPT4gew0KICAgICAgICAgICAgICAgIG9yaWdpbmFsX3RpbWUobGFiZWwpOw0KICAgICAgICAgICAgICAgIHRpbWVycy5zZXQobGFiZWwsIHBlcmZvcm1hbmNlLm5vdygpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUudGltZUxvZyA9IChsYWJlbCA9ICdkZWZhdWx0JykgPT4gew0KICAgICAgICAgICAgICAgIG9yaWdpbmFsX3RpbWVsb2cobGFiZWwpOw0KICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICAgICAgICAgICAgICAgIGlmICh0aW1lcnMuaGFzKGxhYmVsKSkgew0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICdjb25zb2xlJywgbGV2ZWw6ICdzeXN0ZW0tbG9nJywgYXJnczogW2Ake2xhYmVsfTogJHtub3cgLSB0aW1lcnMuZ2V0KGxhYmVsKX1tc2BdIH0sICcqJyk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgYWN0aW9uOiAnY29uc29sZScsIGxldmVsOiAnc3lzdGVtLXdhcm4nLCBhcmdzOiBbYFRpbWVyICcke2xhYmVsfScgZG9lcyBub3QgZXhpc3RgXSB9LCAnKicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUudGltZUVuZCA9IChsYWJlbCA9ICdkZWZhdWx0JykgPT4gew0KICAgICAgICAgICAgICAgIG9yaWdpbmFsX3RpbWVlbmQobGFiZWwpOw0KICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICAgICAgICAgICAgICAgIGlmICh0aW1lcnMuaGFzKGxhYmVsKSkgew0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICdjb25zb2xlJywgbGV2ZWw6ICdzeXN0ZW0tbG9nJywgYXJnczogW2Ake2xhYmVsfTogJHtub3cgLSB0aW1lcnMuZ2V0KGxhYmVsKX1tc2BdIH0sICcqJyk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgYWN0aW9uOiAnY29uc29sZScsIGxldmVsOiAnc3lzdGVtLXdhcm4nLCBhcmdzOiBbYFRpbWVyICcke2xhYmVsfScgZG9lcyBub3QgZXhpc3RgXSB9LCAnKicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aW1lcnMuZGVsZXRlKGxhYmVsKTsNCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsX2Fzc2VydCA9IGNvbnNvbGUuYXNzZXJ0Ow0KICAgICAgICAgICAgY29uc29sZS5hc3NlcnQgPSAoY29uZGl0aW9uLCAuLi5hcmdzKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbikgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrOw0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICdjb25zb2xlJywgbGV2ZWw6ICdhc3NlcnQnLCBhcmdzLCBzdGFjayB9LCAnKicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBvcmlnaW5hbF9hc3NlcnQoY29uZGl0aW9uLCAuLi5hcmdzKTsNCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIGNvbnN0IGNvdW50ZXIgPSBuZXcgTWFwKCk7DQogICAgICAgICAgICBjb25zdCBvcmlnaW5hbF9jb3VudCA9IGNvbnNvbGUuY291bnQ7DQogICAgICAgICAgICBjb25zdCBvcmlnaW5hbF9jb3VudHJlc2V0ID0gY29uc29sZS5jb3VudFJlc2V0Ow0KDQogICAgICAgICAgICBjb25zb2xlLmNvdW50ID0gKGxhYmVsID0gJ2RlZmF1bHQnKSA9PiB7DQogICAgICAgICAgICAgICAgY291bnRlci5zZXQobGFiZWwsIChjb3VudGVyLmdldChsYWJlbCkgfHwgMCkgKyAxKTsNCiAgICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246ICdjb25zb2xlJywgbGV2ZWw6ICdzeXN0ZW0tbG9nJywgYXJnczogYCR7bGFiZWx9OiAke2NvdW50ZXIuZ2V0KGxhYmVsKX1gIH0sICcqJyk7DQogICAgICAgICAgICAgICAgb3JpZ2luYWxfY291bnQobGFiZWwpOw0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgY29uc29sZS5jb3VudFJlc2V0ID0gKGxhYmVsID0gJ2RlZmF1bHQnKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIuaGFzKGxhYmVsKSkgew0KICAgICAgICAgICAgICAgICAgICBjb3VudGVyLnNldChsYWJlbCwgMCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgYWN0aW9uOiAnY29uc29sZScsIGxldmVsOiAnc3lzdGVtLXdhcm4nLCBhcmdzOiBgQ291bnQgZm9yICcke2xhYmVsfScgZG9lcyBub3QgZXhpc3RgIH0sICcqJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG9yaWdpbmFsX2NvdW50cmVzZXQobGFiZWwpOw0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxfdHJhY2UgPSBjb25zb2xlLnRyYWNlOw0KDQogICAgICAgICAgICBjb25zb2xlLnRyYWNlID0gKC4uLmFyZ3MpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrOw0KICAgICAgICAgICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IGFjdGlvbjogJ2NvbnNvbGUnLCBsZXZlbDogJ3RyYWNlJywgYXJncywgc3RhY2sgfSwgJyonKTsNCiAgICAgICAgICAgICAgICBvcmlnaW5hbF90cmFjZSguLi5hcmdzKTsNCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHN0cmluZ2lmeShhcmdzKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3MpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkoKQ0KICAgIDwvc2NyaXB0Pg0KPC9oZWFkPg0KPGJvZHk+DQogICAgPGRpdiBpZD0iYXBwIj48L2Rpdj4NCjwvYm9keT4NCjwvaHRtbD4NCg=="}),I("design:type",String)],g.prototype,"initialSrcDoc",void 0),C([ie({type:Boolean,default:!1}),I("design:type",Boolean)],g.prototype,"isBeforeRefresh",void 0),g=C([ce({name:"wu-code-sandbox",css:le}),I("design:paramtypes",[])],g)}(Ie);e.WuMonacoEditorPreview=he,Object.defineProperty(e,"__esModule",{value:!0})}));
