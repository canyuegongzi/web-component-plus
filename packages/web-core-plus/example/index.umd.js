!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).WebUIPlus={})}(this,(function(t){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)};function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};function r(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function s(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var a=".container {\n  font-size: 19px;\n  color: blue;\n}";!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}(a);const c=new WeakMap;function u(t,e){return c.get(t)&&c.get(t).get(e)}function l(t,e,n){if(void 0===e)throw new TypeError;const o=u(e,n);return o&&o.get(t)}function p(t,e,n,o){if(o&&!["string","symbol"].includes(typeof o))throw new TypeError;(u(n,o)||function(t,e){const n=c.get(t)||new Map;c.set(t,n);const o=n.get(e)||new Map;return n.set(e,o),o}(n,o)).set(t,e)}function f(t,e,n){return l(t,e,n)?l(t,e,n):Object.getPrototypeOf(e)?f(t,Object.getPrototypeOf(e),n):void 0}const d={decorate:function(t,e,n,o){if(!Array.isArray(t)||0===t.length)throw new TypeError;return void 0!==n?function(t,e,n,o){return t.reverse().forEach((t=>{o=t(e,n,o)||o})),o}(t,e,n,o):"function"==typeof e?function(t,e){return t.reverse().forEach((t=>{const n=t(e);n&&(e=n)})),e}(t,e):void 0},defineMetadata:function(t,e,n,o){p(t,e,n,o)},getMetadata:function(t,e,n){return f(t,e,n)},getOwnMetadata:function(t,e,n){return l(t,e,n)},hasMetadata:function(t,e,n){return!!f(t,e,n)},hasOwnMetadata:function(t,e,n){return!!l(t,e,n)},metadata:function(t,e){return function(n,o){p(t,e,n,o)}}};Object.assign(Reflect,d),function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var t="ShadyCSS"in window&&!ShadyCSS.nativeShadow,e=document.implementation.createHTMLDocument(""),n=new WeakMap,o="object"==typeof DOMException?Error:DOMException,r=Object.defineProperty,i=Array.prototype.forEach,s=/@import.+?;?$/gm,a=CSSStyleSheet.prototype;a.replace=function(){return Promise.reject(new o("Can't call replace on non-constructed CSSStyleSheets."))},a.replaceSync=function(){throw new o("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var c=new WeakMap,u=new WeakMap,l=new WeakMap,p=new WeakMap,f=j.prototype;f.replace=function(t){try{return this.replaceSync(t),Promise.resolve(this)}catch(t){return Promise.reject(t)}},f.replaceSync=function(t){if(O(this),"string"==typeof t){var e=this;c.get(e).textContent=function(t){var e=t.replace(s,"");return e!==t&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),e.trim()}(t),p.set(e,[]),u.get(e).forEach((function(t){t.isConnected()&&N(e,M(e,t))}))}},r(f,"cssRules",{configurable:!0,enumerable:!0,get:function(){return O(this),c.get(this).sheet.cssRules}}),r(f,"media",{configurable:!0,enumerable:!0,get:function(){return O(this),c.get(this).sheet.media}}),["addRule","deleteRule","insertRule","removeRule"].forEach((function(t){f[t]=function(){var e=this;O(e);var n=arguments;p.get(e).push({method:t,args:n}),u.get(e).forEach((function(o){if(o.isConnected()){var r=M(e,o).sheet;r[t].apply(r,n)}}));var o=c.get(e).sheet;return o[t].apply(o,n)}})),r(j,Symbol.hasInstance,{configurable:!0,value:C});var d={childList:!0,subtree:!0},h=new WeakMap,y=new WeakMap,v=new WeakMap,m=new WeakMap;if(R.prototype={isConnected:function(){var t=y.get(this);return t instanceof Document?"loading"!==t.readyState:function(t){return"isConnected"in t?t.isConnected:document.contains(t)}(t.host)},connect:function(){var t=A(this);m.get(this).observe(t,d),v.get(this).length>0&&L(this),k(t,(function(t){P(t).connect()}))},disconnect:function(){m.get(this).disconnect()},update:function(t){var e=this,n=y.get(e)===document?"Document":"ShadowRoot";if(!Array.isArray(t))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!t.every(C))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(t.some(E))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");e.sheets=t;var o,r,i=v.get(e),s=(o=t).filter((function(t,e){return o.indexOf(t)===e}));(r=s,i.filter((function(t){return-1===r.indexOf(t)}))).forEach((function(t){var n;(n=M(t,e)).parentNode.removeChild(n),function(t,e){l.get(t).delete(e),u.set(t,u.get(t).filter((function(t){return t!==e})))}(t,e)})),v.set(e,s),e.isConnected()&&s.length>0&&L(e)}},window.CSSStyleSheet=j,T(Document),"ShadowRoot"in window){T(ShadowRoot);var g=Element.prototype,b=g.attachShadow;g.attachShadow=function(t){var e=b.call(this,t);return"closed"===t.mode&&n.set(this,e),e}}var S=P(document);S.isConnected()?S.connect():document.addEventListener("DOMContentLoaded",S.connect.bind(S))}function w(t){return t.shadowRoot||n.get(t)}function C(t){return"object"==typeof t&&(f.isPrototypeOf(t)||a.isPrototypeOf(t))}function E(t){return"object"==typeof t&&a.isPrototypeOf(t)}function M(t,e){return l.get(t).get(e)}function N(t,e){requestAnimationFrame((function(){e.textContent=c.get(t).textContent,p.get(t).forEach((function(t){return e.sheet[t.method].apply(e.sheet,t.args)}))}))}function O(t){if(!c.has(t))throw new TypeError("Illegal invocation")}function j(){var t=this,n=document.createElement("style");e.body.appendChild(n),c.set(t,n),u.set(t,[]),l.set(t,new WeakMap),p.set(t,[])}function P(t){var e=h.get(t);return e||(e=new R(t),h.set(t,e)),e}function T(t){r(t.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return P(this).sheets},set:function(t){P(this).update(t)}})}function k(t,e){for(var n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT,(function(t){return w(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),o=void 0;o=n.nextNode();)e(w(o))}function A(t){var e=y.get(t);return e instanceof Document?e.body:e}function L(t){var e=document.createDocumentFragment(),n=v.get(t),o=m.get(t),r=A(t);o.disconnect(),n.forEach((function(n){e.appendChild(M(n,t)||function(t,e){var n=document.createElement("style");return l.get(t).set(e,n),u.get(t).push(e),n}(n,t))})),r.insertBefore(e,null),o.observe(r,d),n.forEach((function(e){N(e,M(e,t))}))}function R(e){var n=this;n.sheets=[],y.set(n,e),v.set(n,[]),m.set(n,new MutationObserver((function(e,o){document?e.forEach((function(e){t||i.call(e.addedNodes,(function(t){t instanceof Element&&k(t,(function(t){P(t).connect()}))})),i.call(e.removedNodes,(function(e){e instanceof Element&&(function(t,e){return e instanceof HTMLStyleElement&&v.get(t).some((function(e){return M(e,t)}))}(n,e)&&L(n),t||k(e,(function(t){P(t).disconnect()})))}))})):o.disconnect()})))}}(),function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.hasOwnProperty("polyfillWrapFlushCallback")){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}(),"function"!=typeof window.queueMicrotask&&(window.queueMicrotask=function(t){Promise.resolve().then(t).catch((function(t){return setTimeout((function(){throw t}))}))});var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*!
     * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
     * https://github.com/polygonplanet/weakmap-polyfill
     * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
     * @license MIT
     */!function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(t){}}(),o=function(t,e,o){n?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:o}):t[e]=o};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(o(this,"_id",i("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function n(t,n){if(!r(t)||!e.call(t,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof t)}function i(t){return t+"_"+s()+"."+s()}function s(){return Math.random().toString().substring(2)}return o(t.prototype,"delete",(function(t){if(n(this,"delete"),!r(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)&&(delete t[this._id],!0)})),o(t.prototype,"get",(function(t){if(n(this,"get"),r(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}})),o(t.prototype,"has",(function(t){if(n(this,"has"),!r(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)})),o(t.prototype,"set",(function(t,e){if(n(this,"set"),!r(t))throw new TypeError("Invalid value used as weak map key");var i=t[this._id];return i&&i[0]===t?(i[1]=e,this):(o(t,this._id,[t,e]),this)})),o(t,"_polyfill",!0),t}()}function r(t){return Object(t)===t}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:h);var y=function(t){return t.replace(/(?!^)([A-Z])/g," $1").replace(/[_\s]+(?=[a-zA-Z])/g,".").toLowerCase()};
/**
     * @license
     * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
     */function v(t){var e=document.createElement("style");return e.textContent=t,e}function m(t){return t.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()}))}function g(t){return t.children}function b(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function S(t){return"[object Array]"===Object.prototype.toString.call(t)}function w(t){return t.indexOf("-")>-1?t.replace(/(\-([a-z]))/g,(function(t,e,n,o,r){return n.toUpperCase()})):t}function C(t,e,n){var o=void 0;try{if(null!==t)switch(e){case String:o=t;break;case Number:o=Number(t);break;case Boolean:o=!("false"===t||"0"===t||!1===t);break;case Array:case Object:o="string"==typeof t?JSON.parse(t.replace(/'/g,'"')):"[object Array]"===Object.prototype.toString.call(t)||"[object Object]"===Object.prototype.toString.call(t)?t:JSON.parse(t.replace(/(['"])?([a-zA-Z0-9_-]+)(['"])?:([^\/])/g,'"$2":$4').replace(/'([\s\S]*?)'/g,'"$1"').replace(/,(\s*})/g,"$1"));break;default:o=t}else o=n;return o}catch(e){return console.warn("formatValue file, please input element attr",e),function(t){try{return new Function("return "+t)()}catch(t){console.warn("eval fail",t)}}(t)}}!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.hasOwnProperty("polyfillWrapFlushCallback")){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}(),"function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var E={store:null,root:self||window||function(){return this}(),mapping:{},vnode:void 0},M="prevProps",N=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,O=Symbol("PROP_META_KEY"),j=Symbol("STATE_META_KEY"),P=Symbol("COMPONENT_CUSTOM_EVENT"),T=Symbol("COMPONENT_CUSTOM_INJECT"),k=Symbol("COMPONENT_CUSTOM_PROVIDE"),A=Symbol("COMPONENT_WATCH");function L(t,e,n){Object.defineProperty(t,n,{get:function(){return this[e][n]},set:function(t){var o=this[e][n];this[e][n]=t,this.props[n]=t,this.update.call(this,this.$reactive,null),this.watchChangeCallback.call(this,n,t,o)}})}function R(t){var e={};e=t.reduce((function(t,e,n){return t[e.attr]=e.default,t}),e),this.$reactive||(this.$reactive={}),this.$reactive=o(o({},this.$reactive),e);for(var n=Object.keys(this.$reactive),r=n.length;r--;){L(this,"$reactive",n[r])}}function _(){var t,e=this,n=null!==(t=this.geMateList(P))&&void 0!==t?t:[],o=this;n.forEach((function(t){Object.defineProperty(e,t.methodName,{get:function(){return function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(e=t.methodFun).call.apply(e,s([o],n,!1)),a=t.eventName?t.eventName:y(t.methodName);o.customDispatchEvent.call(o,a,i)}}})}))}var x=0,I=new WeakMap,W=function(t){function e(){var e=t.call(this)||this;return e.rootNode=null,e.isInstalled=!1,e.willUpdate=!1,e.customStyleContent="",e.props={},e.prevProps={},e.customStyleElement=null,e.provides=[],e.elementId=0,e.injection={},e.watchListMap=new Map,e.elementId=x++,e.$options=e.constructor.$options,e.initComponent(),e.injection={},e.providesMap=e.getProvides(),e.injectsList=e.getInjects(),e}return n(e,t),e.prototype.geMateList=function(t){var e;return null!==(e=Reflect.getMetadata(t,this))&&void 0!==e?e:[]},e.prototype.initComponent=function(){var t,e;this.elementId=x++,this.propsList=this.geMateList(O),this.injects=null!==(t=this.geMateList(T))&&void 0!==t?t:[],this.provides=null!==(e=this.geMateList(k))&&void 0!==e?e:[];var n=this.geMateList(O)||[],o=this.geMateList(j)||[],r=n.concat(o);this.watchListMap=this.initWatch(),R.call(this,r),_.call(this)},Object.defineProperty(e.prototype,"inlineCss",{get:function(){return t.prototype.getAttribute.call(this,"css")},enumerable:!1,configurable:!0}),e.prototype.initWatch=function(){var t,e=new Map;return(null!==(t=this.geMateList(A))&&void 0!==t?t:[]).forEach((function(t){var n=e.get(t.path);n&&"[object Array]"===Object.prototype.toString.call(n)?e.set(t.path,s(s([],n,!0),[t],!1)):e.set(t.path,[t])})),e},e.prototype.initCss=function(t){if(I.has(this.constructor))t.adoptedStyleSheets=I.get(this.constructor);else{var e=this.$options.css;if(e){if("string"==typeof e)(o=new CSSStyleSheet).replaceSync(e),t.adoptedStyleSheets=[o];if("[object Array]"===Object.prototype.toString.call(e)){var n=[];e.forEach((function(e){var o;"string"==typeof e&&((o=new CSSStyleSheet).replaceSync(e),n.push(o));"[object Array]"===Object.prototype.toString.call(e)?((o=new CSSStyleSheet).replaceSync(e[1]),n.push(o)):n.push(e);t.adoptedStyleSheets=n}))}else if(e.default&&"string"==typeof e.default){(o=new CSSStyleSheet).replaceSync(e.default),t.adoptedStyleSheets=[o]}else if("string"==typeof e){var o;(o=new CSSStyleSheet).replaceSync(e),t.adoptedStyleSheets=[o]}else t.adoptedStyleSheets=[e];I.set(this.constructor,t.adoptedStyleSheets)}}return t},Object.defineProperty(e,"observedAttributes",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.getProvides=function(){return this.provides.reduce((function(t,e){return t[e.key]=e,t}),{})},e.prototype.getInjects=function(){return this.injects},Object.defineProperty(e.prototype,"isInject",{get:function(){return Array.isArray(this.injectsList)&&this.injectsList.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isProvide",{get:function(){return Object.keys(this.providesMap).length>0},enumerable:!1,configurable:!0}),e.prototype.removeAttribute=function(e){t.prototype.removeAttribute.call(this,e),this.isInstalled&&this.update()},e.prototype.setAttribute=function(e,n){var o;o=n&&"object"==typeof n?JSON.stringify(n):n,t.prototype.setAttribute.call(this,e,o),this.isInstalled&&(this[e]=n)},e.prototype.getAttribute=function(e){var n=this[e];return n||(n=t.prototype.getAttribute.call(this,e)),n},e.prototype.pureRemoveAttribute=function(e){t.prototype.removeAttribute.call(this,e)},e.prototype.pureSetAttribute=function(e,n){t.prototype.setAttribute.call(this,e,n)},e.prototype.attributeChangedCallback=function(t,e,n){this.update([],!1)},e.prototype.update=function(t,e){this.callUpdate(t,e)},e.prototype.watchChangeCallback=function(t,e,n){var o,r;if(this.watchListMap.has(t)){var i=this.watchListMap.get(t);if(i&&"[object Array]"===Object.prototype.toString.call(i))for(var s=0;s<i.length;s++)(this.isInstalled||(null===(r=null===(o=i[s])||void 0===o?void 0:o.options)||void 0===r?void 0:r.immediate))&&this[i[s].callbackName].call(this,e,n)}},e.prototype.callUpdate=function(t,e){if(this.isInstalled&&!this.willUpdate&&this.preBeforeUpdate()){this.willUpdate=!0,this.customStyleContent!=this.inlineCss&&(this.customStyleContent=this.inlineCss,this.customStyleElement?this.customStyleElement.textContent=this.customStyleContent:(this.customStyleElement=v(this.inlineCss),this.shadowRoot.appendChild(this.customStyleElement))),this.beforeUpdate(),this.beforeRender();var n=this.render(this.$reactive,this.store);this.rendered(),this.rootNode=q(this.rootNode,n,(null==this?void 0:this.shadowRoot)||this,this,e),this.willUpdate=!1,this.updated()}},e.prototype.initShadowRoot=function(){var t,e;if("LightDom"===this.$options.is)e=this;else{e=this.shadowRoot||(null===(t=this.attachShadow)||void 0===t?void 0:t.call(this,{mode:"open"}));for(var n=void 0;n=e.firstChild;)e.removeChild(n)}e=this.initCss(e),this.css&&e.appendChild(v("function"==typeof this.css?this.css():this.css));var o=this.inlineCss;return o&&(this.customStyleElement=v(o),this.customStyleContent=o,e.appendChild(this.customStyleElement)),e},e.prototype.updateInject=function(t){var e=this;this.isInject&&Promise.resolve().then((function(){for(var n,o,r=e.parentNode;r&&!o;)(o=r.isProvide?r.providesMap:void 0)&&(n=r),r=r.parentNode||r.host;if(o)return e.injectsList.forEach((function(t){var r=o[t.key].functionName;e[t.attr]=n[r]()})),void("function"==typeof t&&t());console.warn("The provide prop was not found on the parent node or the provide type is incorrect. please check ".concat(e.tagName))}))},e.prototype.connectedCallback=function(){var t=this;this.updateInject(this.update.bind(this));var e=this.initShadowRoot();this.attrsToProps(),this.beforeInstall(),this.install(),this.afterInstall(),this.beforeRender();var n=this.render(this.$reactive,this.store);this.rootNode=q(null,n,null,this),!0===this.$options.isMountDom&&(Array.isArray(this.rootNode)?this.rootNode.forEach((function(t){return e.appendChild(t)})):this.rootNode&&e.appendChild(this.rootNode)),this.isInstalled=!0,this.rendered(),this.isInject?Promise.resolve().then((function(){return t.connected(e)})):this.connected(e)},e.prototype.disconnectedCallback=function(){this.disConnected()},e.prototype.connected=function(t){},e.prototype.disConnected=function(){},e.prototype.preBeforeUpdate=function(){return!0},e.prototype.beforeUpdate=function(){},e.prototype.updated=function(){},e.prototype.forceUpdate=function(){this.update([],!0)},e.prototype.updateProps=function(t){var e=this;Object.keys(t).forEach((function(n){e[n]=t[n],e.prevProps&&(e.prevProps[n]=t[n])})),this.forceUpdate()},e.prototype.attrsToProps=function(t){var e=this,n=this,o=function(t){for(var e={},n=0,o=t.attributes.length;n<o;n++){var r=t.attributes[n].nodeName,i=t.attributes[n].nodeValue;t.attributes[n].specified&&(e[w(r)]=i)}return e}(this.shadowRoot&&this.shadowRoot.host?this.shadowRoot.host:this);this.propsList.forEach((function(t){var r=w(t.attr),i=o[r];i||(i=n.getAttribute(r));var s=C(i,t.type,t.default);e[r]=s}))},e.prototype.customDispatchEvent=function(t,e){var n=new CustomEvent(t,{detail:e||null,bubbles:!0,composed:!0,cancelable:!1});(null==this?void 0:this.shadowRoot)?null==this||this.shadowRoot.dispatchEvent(n):this.dispatchEvent(n)},e.prototype.beforeInstall=function(){},e.prototype.install=function(){},e.prototype.afterInstall=function(){},e.prototype.beforeRender=function(){},e.prototype.rendered=function(){},e.prototype.receiveProps=function(){},e.prototype.render=function(t,e){},e.is="CustomWebComponent",e}(HTMLElement);function F(t){var e=t.parentNode;e&&e.removeChild(t)}function $(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&U(t,e.nodeName):"function"==typeof e.nodeName?E.mapping[t.nodeName.toLowerCase()]===e.nodeName:n||t._componentConstructor===e.nodeName}function U(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function H(t){return this._listeners[t.type](E.event&&E.event(t)||t)}var D={};function V(t,e,n,o,r,i){if("className"===e&&(e="class"),"o"==e[0]&&"-"==e[1])D[e]&&D[e](t,o,i);else if("key"===e);else if("ref"===e)b(n,null),b(o,t);else if("class"!==e||r)if("style"===e){if(o&&"string"!=typeof o&&"string"!=typeof n||(t.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var s in n)s in o||(t.style[s]="");for(var s in o)t.style[s]="number"==typeof o[s]&&!1===N.test(s)?o[s]+"px":o[s]}}else if("dangerouslySetInnerHTML"===e)o&&(t.innerHTML=o.__html||"");else if("o"==e[0]&&"n"==e[1])!function(t,e,n,o){var r=e!==(e=e.replace(/Capture$/,"")),i=e.toLowerCase();e=(i in t?i:e).slice(2),n?o||t.addEventListener(e,H,r):t.removeEventListener(e,H,r),(t._listeners||(t._listeners={}))[e]=n}(t,e,o,n);else if("INPUT"===t.nodeName&&"value"===e)t[e]=null==o?"":o;else if("list"!==e&&"type"!==e&&"css"!==e&&!r&&e in t&&""!==o){try{t[e]=null==o?"":o}catch(t){}null!=o&&!1!==o||"spellcheck"==e||(t.pureRemoveAttribute?t.pureRemoveAttribute(e):t.removeAttribute(e))}else{var a=r&&e!==(e=e.replace(/^xlink:?/,""));null==o||!1===o?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.pureRemoveAttribute?t.pureRemoveAttribute(e):t.removeAttribute(e):"function"!=typeof o&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),o):t.pureSetAttribute?t.pureSetAttribute(e,o):t.setAttribute(e,o))}else t.className=o||""}var z=0,B=!1,J=!1;function q(t,e,n,o,r){var i;if(t||e)return z++||(B=null!=n&&void 0!==n.ownerSVGElement,J=null!=t&&!(M in t)),e&&e.nodeName===g&&(e=e.children),S(e)?n?G(n,e,J,o,r):(i=[],e.forEach((function(e,n){var s=Z(0===n?t:null,e,o,r);i.push(s)}))):(S(t)?t.forEach((function(t,n){0===n?i=Z(t,e,o,r):K(t,!1)})):i=Z(t,e,o,r),n&&i.parentNode!==n&&n.appendChild(i)),--z||(J=!1),i}function Z(t,e,n,o){t&&e&&t.props&&(t.props.children=e.children);var r=t,i=B;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||n)?t.nodeValue!=e&&(t.nodeValue=e):(r=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(r,t),K(t,!0))),r.prevProps=!0,r;var s,a,c=e.nodeName;if("function"==typeof c)for(var u in E.mapping)if(E.mapping[u]===c){c=u,e.nodeName=u;break}if(B="svg"===c||"foreignObject"!==c&&B,c=String(c),(!t||!U(t,c))&&(s=c,(a=B?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,r=a,t)){for(;t.firstChild;)r.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(r,t),K(t,!0)}var l=r.firstChild,p=r.prevProps,f=e.children;if(null==p){p=r.prevProps={};for(var d=r.attributes,h=d.length;h--;)p[d[h].name]=d[h].value}return!J&&f&&1===f.length&&"string"==typeof f[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=f[0]&&(l.nodeValue=f[0]):(f&&f.length||null!=l)&&("CustomWebComponent"==r.constructor.is&&r.constructor.noSlot||G(r,f,J||null!=p.dangerouslySetInnerHTML,n,o)),function(t,e,n,o,r){var i,s,a=t.update;t.receiveProps&&(s=Object.assign({},n));for(i in n)e&&null!=e[i]||null==n[i]||(V(t,i,n[i],n[i]=void 0,B,o),a&&delete t.props[i]);for(i in e)if(a&&"object"==typeof e[i]&&"ref"!==i){"style"===i&&V(t,i,n[i],n[i]=e[i],B,o);var c=m(i);t.props[c]=n[c]=e[i]}else if("children"!==i&&(!(i in n)||e[i]!==("value"===i||"checked"===i?t[i]:n[i])))if(V(t,i,n[i],e[i],B,o),-1!==t.nodeName.indexOf("-")){t.props=t.props||{};c=m(i);t.props[c]=n[c]=e[i]}else n[i]=e[i];a&&!r&&t.parentNode&&!1!==t.receiveProps(t.props,s)&&t.update()}(r,e.attributes,p,n,o),r.props&&(r.props.children=e.children),B=i,r}function G(t,e,n,o,r){var i,s,a,c,u,l=t.childNodes,p=[],f={},d=0,h=0,y=(null==l?void 0:l.length)||0,v=0,m=e?e.length:0;if(0!==y)for(var g=0;g<y;g++){var b=l[g],S=b.prevProps;null!=(w=m&&S?b._component?b._component.__key:S.key:null)?(d++,f[w]=b):(S||(void 0!==b.splitText?!n||b.nodeValue.trim():n))&&(p[v++]=b)}if(0!==m)for(g=0;g<m;g++){var w;if(u=null,c=e[g])if(null!=(w=c.key))d&&void 0!==f[w]&&(u=f[w],f[w]=void 0,d--);else if(!u&&h<v)for(i=h;i<v;i++)if(void 0!==p[i]&&$(s=p[i],c,n)){u=s,p[i]=void 0,i===v-1&&v--,i===h&&h++;break}u=Z(u,c,o,r),a=l[g],u&&u!==t&&u!==a&&(null==a?t.appendChild(u):u===a.nextSibling?F(a):t.insertBefore(u,a))}if(d)for(var g in f)void 0!==f[g]&&K(f[g],!1);for(;h<=v;)void 0!==(u=p[v--])&&K(u,!1)}function K(t,e){null!=t.prevProps&&t.prevProps.ref&&("function"==typeof t.prevProps.ref?t.prevProps.ref(null):t.prevProps.ref.current&&(t.prevProps.ref.current=null)),!1!==e&&null!=t.prevProps||F(t),function(t){t=t.lastChild;for(;t;){var e=t.previousSibling;K(t,!0),t=e}}(t)}var Y=[];function Q(t,e){var n,o,r,i,s=[];for(i=arguments.length;i-- >2;)Y.push(arguments[i]);for(e&&null!=e.children&&(Y.length||Y.push(e.children),delete e.children);Y.length;)if((o=Y.pop())&&void 0!==o.pop)for(i=o.length;i--;)Y.push(o[i]);else"boolean"==typeof o&&(o=null),(r="function"!=typeof t)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(r=!1)),r&&n?s[s.length-1]+=o:0===s.length?s=[o]:s.push(o),n=r;if(t===g)return s;var a={nodeName:t,children:s,attributes:null==e?void 0:e,key:null==e?void 0:e.key};return void 0!==E.vnode&&E.vnode(a),a}function X(t,e){return function(n,o,r){!function(t,e,n,o,r){var i,s=null!==(i=Reflect.getMetadata(A,t))&&void 0!==i?i:[],a=o.value;s.push({callback:a,options:r||{},callbackName:n,path:e}),Reflect.defineMetadata(A,s,t)}(n,t,o,r,e)}}function tt(t){return function(e,n,o){!function(t,e,n,o){var r,i=null!==(r=Reflect.getMetadata(P,t))&&void 0!==r?r:[],s=o.value,a=e||w(n);i.push({methodName:n,methodFun:s,eventName:a}),Reflect.defineMetadata(P,i,t)}(e,t,n,o)}}function et(t){return void 0===t&&(t={default:void 0}),function(e,n){!function(t,e,n){var o;void 0===n&&(n={default:void 0});var r=n.default,i=null!==(o=Reflect.getMetadata(O,t))&&void 0!==o?o:[];i.push({default:r,type:n.type,attr:e,attrType:"PROP"}),Reflect.defineMetadata(O,i,t)}(e,n,t)}}function nt(t){return function(e){!function(t,e){void 0===e.isMountDom&&(e.isMountDom=!0),customElements.get(e.name)||(t.$options=e,customElements.define(e.name,t,e.options||{}))}(e,t)}}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t),e.prototype.updateCount=function(){this.count=this.count+1},e.prototype.updateAttr=function(){this.attr=this.attr+"as-"},e.prototype.testFun=function(){return{value:"0"}},e.prototype.connected=function(t){},e.prototype.attrWatchChange=function(t,e){console.log(t,e)},e.prototype.childUpdate=function(t){return t},e.prototype.render=function(){var t=this;return Q("div",{class:"container"},Q("h2",null,"子组件"),Q("p",null,this.attr),Q("p",null,Q("button",{onclick:function(){return t.childUpdate(t.attr)}},"子组件更新")))},r([et({type:String,default:""}),i("design:type",String)],e.prototype,"attr",void 0),r([et({type:Number,default:0}),i("design:type",String)],e.prototype,"count",void 0),r([tt("test"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],e.prototype,"testFun",null),r([X("attr",{immediate:!0}),i("design:type",Function),i("design:paramtypes",[String,String]),i("design:returntype",void 0)],e.prototype,"attrWatchChange",null),r([tt("child-update"),i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",void 0)],e.prototype,"childUpdate",null),e=r([nt({name:"test-example1",css:a})],e)}(W);var ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ssCss=".container {\n    font-size: 49px;\n    color: red;\n}",e}return n(e,t),e.prototype.updateCount=function(){this.count=this.count+1},e.prototype.updateAttr=function(){this.attr=this.attr+"as-"},e.prototype.testFun=function(){return{value:"0"}},e.prototype.connected=function(t){},e.prototype.attrWatchChange=function(t,e){console.log(t,e)},e.prototype.countChange=function(t,e){console.log(t,e)},e.prototype.render=function(){var t=this;return Q("div",{class:"container"},Q("p",null,this.attr),Q("p",null,Q("button",{onClick:function(){return t.updateCount()}},"更新"),Q("span",null,this.count)),Q("p",null,Q("button",{onClick:function(){return t.updateAttr()}},"更新Attr"),Q("span",null,this.attr)),Q("p",null,Q("button",{onClick:function(){return t.testFun()}},"测试事件")),Q("test-example1",{css:this.ssCss,attr:this.attr,"onchild-update":function(t){console.log(t)}}))},r([et({type:String,default:"12"}),i("design:type",String)],e.prototype,"attr",void 0),r([et({type:Number,default:0}),i("design:type",String)],e.prototype,"count",void 0),r([tt("test"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],e.prototype,"testFun",null),r([X("count",{immediate:!0}),i("design:type",Function),i("design:paramtypes",[String,String]),i("design:returntype",void 0)],e.prototype,"attrWatchChange",null),r([X("attr",{immediate:!0}),i("design:type",Function),i("design:paramtypes",[String,String]),i("design:returntype",void 0)],e.prototype,"countChange",null),e=r([nt({name:"test-example",css:a})],e)}(W);t.TestComponent=ot,Object.defineProperty(t,"__esModule",{value:!0})}));
